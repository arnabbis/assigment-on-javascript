<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title> <!-- <link rel="stylesheet" href="./style.css"> -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div class="flex justify-center">
        <form>
            <p class="text-2xl text-center font-bold text-green-500">User Details</p>
            <table class="table-fixed border border-double">
                <tr>
                    <td></td>
                    <td> <input type="radio" >Mr. <input type="radio">Mrs. <input type="radio">Ms. </td>
                <tr>
                <tr>
                    <td><label for="">First Name</label></td>
                    <td> <input type="text" placeholder="First Name" class="border border-gray-300" required><br> </td>
                </tr>
                <tr>
                    <td><label for="">Last Name</label></td>
                    <td> <input type="text" placeholder="Last Name" class="border border-gray-300 " required><br> </td>
                </tr>
                <tr>
                    <td><label for="">City</label></td>
                    <td> <input type="text" class="border border-gray-300"><br> </td>
                </tr>
             
                <tr>
                    <td><label for="">E-Mail</label></td>
                    <td> <input type="email" class="border border-gray-300" required><br> </td>
                </tr>
                <tr>
                    <td><label for="">Mobile</label></td>
                    <td> <input type="text" placeholder="+91" class="border border-gray-300" required><br> </td>
                </tr>
            </table>
    </div>
    </form>
    <div class="flex justify-center">
        <button id="add" class="bg-sky-600 hover:bg-sky-700 ... m-4 p-2 rounded-md ">
            Save Changes
          </button>
          <button onclick="cleared()" class="bg-sky-600 hover:bg-sky-700 ... m-4 p-2 rounded-md w-24">
            All Delete
          </button>
    </div>
    <div class="bg-slate-200 flex justify-between">
         <table class="table-auto">     <!--id="table" -->
            <thead>
                <tr class="">
                    <th scope="col" class="border border-red-800 ">S No.</th>
                    <!-- <th scope="col">item</th> -->
                    <th scope="col" class="border border-red-800 ">FirtName</th>
                    <th scope="col" class="border border-red-800 ">LastName</th>
                    <th scope="col" class="border border-red-800 ">Address</th>
                    <th scope="col" class="border border-red-800 ">Mobile</th>
                </tr>
            </thead>
            <tbody id="table">
                <tr>
                    <th scope="row">1</th>
                    <!-- <td>first</td>
                        <td>Last</td>
                        <td>Address</td>
                        <td>Mobile</td> -->
                        <!-- <td>second</td> -->
                        <!-- <td class="bg-slate-50 flex justify-end mx-96"><button>delete</button></td> -->
                        
                    <!-- <button class="bg-sky-600 hover:bg-sky-700 ...m-4 rounded-md w-24 justify-right">
                        Delete
                      </button> -->
                </tr>
            </tbody>
        </table>
    </div>
<!-- 
    </form> -->
    <script>
        function getAndUpdate(){
            console.log("amit")
            first=document.getElementById("first").value;
            last=document.getElementById("last").value;
            address=document.getElementById("address").value;
            mobile=document.getElementById("mobile").value;
            if(localStorage.getItem("itemJson")==null){
                itemJsonArray=[]
                itemJsonArray.push([first,last,address,mobile])
                localStorage.setItem("itemJson",JSON.stringify(itemJsonArray))
            }
            else{
                itemJsonArraystr=localStorage.getItem("itemJson")
                itemJsonArray=JSON.parse(itemJsonArraystr)
                itemJsonArray.push([first,last,address,mobile])
                localStorage.setItem("itemJson",JSON.stringify(itemJsonArray))


            }
            update()
        }
        function update(){
            if(localStorage.getItem("itemJson")==null){
                itemJsonArray=[]
                // itemJsonArray.push([first,last,address,mobile])
                localStorage.setItem("itemJson",JSON.stringify(itemJsonArray))
            } else{
                itemJsonArraystr=localStorage.getItem("itemJson")
                itemJsonArray=JSON.parse(itemJsonArraystr)
                


            }
           
            
            table=document.getElementById("table")
            let str=""
            itemJsonArray.forEach((element ,index)=> {
                str+=`
                <tr>
                    <th scope="row">${index+1}</th>
                    <td>${element [0]}</td>
                    <td>${element [1]}</td>
                    <td>${element [2]}</td>
                    <td>${element [3]}</td>
                    <td class="bg-slate-50 flex justify-end mx-96 "><button onclick="deleted(${index})">Delete</button></td>
                    
                </tr>`
                
            });
            table.innerHTML=str;

        }
        add=document.getElementById("add");
        add.addEventListener("click",getAndUpdate)
        update()



        function deleted(itemindex){
            console.log("Delete",itemindex)
            itemJsonArraystr=localStorage.getItem("itemJson")
                itemJsonArray=JSON.parse(itemJsonArraystr)

                itemJsonArray.splice(itemindex,1)
                localStorage.setItem("itemJson",JSON.stringify(itemJsonArray));
                update()

        }
        function cleared(){
            localStorage.clear()
            update()
        }
        </script>
</body>

</html>